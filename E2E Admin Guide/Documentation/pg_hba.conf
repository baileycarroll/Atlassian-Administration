# PostgreSQL Client Authentication Configuration File
# Sanitized template with generic placeholders
# Replace [PLACEHOLDER] values with environment-specific settings

# TYPE  DATABASE        USER            ADDRESS                 METHOD

# "local" is for Unix domain socket connections only
local   all             postgres                                trust
local   all             all                                     peer

# IPv4 local connections:
host    all             all             127.0.0.1/32            md5
host    all             all             ::1/128                 md5

# Application-specific connections
# Jira application connections
host    jira            [JIRA_DB_USER]  [JIRA_APP_HOST]         md5
host    jira            [JIRA_DB_USER]  [JIRA_TEST_HOST]        md5
host    jira            [JIRA_DB_USER]  [JIRA_GR_HOST]          md5

# Database administration connections
host    all             postgres        [DB_ADMIN_HOST]         md5

# Replication connections
local   replication     all                                     peer
host    replication     all             127.0.0.1/32            md5
host    replication     all             ::1/128                 md5
host    replication     [REPLICATION_USER] [STANDBY_HOST]       md5

# Monitoring/backup connections (if needed)
host    postgres        [MONITORING_USER] [MONITORING_HOST]     md5

# SSL connections (recommended for production)
# Uncomment and configure for SSL-only connections
# hostssl jira          [JIRA_DB_USER]  [JIRA_APP_HOST]         md5
# hostssl jira          [JIRA_DB_USER]  [JIRA_TEST_HOST]        md5
# hostssl jira          [JIRA_DB_USER]  [JIRA_GR_HOST]          md5

# Security Notes:
# - Replace [PLACEHOLDER] values with actual hostnames/IPs
# - Use 'hostssl' instead of 'host' for SSL-only connections
# - Consider using 'scram-sha-256' instead of 'md5' for PostgreSQL 10+
# - Restrict access to specific databases and users where possible
# - Avoid using 'trust' method for remote connections
# - Use 'reject' method to explicitly deny unwanted connections

# Example secure configuration:
# hostssl jira          jira_user       app-server.example.com  scram-sha-256
# hostssl postgres      admin_user      admin-server.example.com scram-sha-256
# reject  all           all             0.0.0.0/0               reject
